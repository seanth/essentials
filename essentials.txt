#!/bin/bash

# Remove all system profiles
for identifier in $(/usr/bin/profiles -L | awk "/attribute/" | awk '{print $4}'); do
    /usr/bin/profiles -R -p "$identifier" >/dev/null 2>&1
done

echo “System Profiles Gone!”


# Remove all profiles installed by MDM
/usr/local/jamf/bin/jamf removeMdmProfile

echo "MDM Profile Gone!"

# Remove JAMF Framework
/usr/local/jamf/bin/jamf removeFramework
echo "jamf binary Gone!"

# Remove all Configuration Profiles
rm -rf /var/db/ConfigurationProfiles/
echo "Configuration Profiles folder Gone!"

# Remove all Profiles
/usr/bin/profiles -D -f -v
echo "Profiles Gone!"

exit 0


#let's install xcode
xcode-select --install

#install homebrew
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

brew install gcc
brew install python3
brew tap kn1kn1/cfdg
brew install kn1kn1/cfdg/cfdg

brew install numpy
brew install pillow

brew install pypy
pypy -m pip install git+https://bitbucket.org/pypy/numpy.git
pypy -m pip install pillow

curl -sL https://raw.githubusercontent.com/brainsik/virtualenv-burrito/master/virtualenv-burrito.sh | $SHELL

#experiments with brew cask

mkdir Applications

#get dropbox set up and syncing ASAP
brew cask install dropbox --appdir=~/Applications
open ~/Applications/Dropbox.app
brew cask install google-chrome --appdir=~/Applications
brew cask install vlc --appdir=~/Applications
brew cask install sublime-text --appdir=~/Applications
brew cask install resilio-sync --appdir=~/Applications
brew cask install google-chrome --appdir=~/Applications
brew cask install google-earth-pro --appdir=~/Applications
brew cask install omnigraffle6 --appdir=~/Applications
brew cask install context-free --appdir=~/Applications
brew cask install steam --appdir=~/Applications
brew cask install hex-fiend --appdir=~/Applications
brew cask install github-desktop --appdir=~/Applications
brew cask install nicecast --appdir=~/Applications
brew cask install slack --appdir=~/Applications
brew cask install audio-hijack --appdir=~/Applications

brew cask cleanup

#others
#brew cask install papers --appdir=~/Applications
curl -L http://papersapp.com/papers2/download -o ~/Downloads/papers_281.dmg
curl -L http://support.apple.com/downloads/DL923/en_US/QuickTimePlayer7.6.6_SnowLeopard.dmg -o ~/Downloads/QuickTimePlayer7.6.6_SnowLeopard.dmg

brew install mas
mas lucky garageband
mas lucky imovie

open ~/Downloads/*.dmg
open ~/Applications/*.app

pip install plistlib
curl -L https://github.com/kcrawford/dockutil/archive/master.zip
unzip dockutil-master.zip